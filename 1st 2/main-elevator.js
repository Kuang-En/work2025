var onLineIcon=!0,rightStyle="left-in",burgerMode="follow",leftNav=!0,rightNav=!0,$screenChangeWt=1212;function detectElementTop(e){for(var t=e.offsetTop,a=e.offsetParent;null!==a;)t+=a.offsetTop,a=a.offsetParent;return t}function checkAppRunBuild(){if(/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)(?!.*Line\/)|Android.*(wv|.0.0.0))(?!.*Line\/)/gi.test(navigator.userAgent)){const e=!0;buildMobileNav(e),buildMobileNav_2(e)}else resizeInitPage(),$(window).on("resize",resizeInitPage)}function isApp(){return!!/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)(?!.*Line\/)|Android.*(wv|.0.0.0))(?!.*Line\/)/gi.test(navigator.userAgent)}function elevatorHomeAddWhere(e,t){t.innerHTML=e}function addArrayParamToLink(e,t,a){const n=`${e.webLink.includes("?")?"&":"?"}${a}=${t}`;if(e.webLink+=n,e.mobileLink&&(e.mobileLink+=n),e.appLink)if(e.appLink.includes("app.html"))e.appLink=e.appLink.replace(/(app\.html)(?:[\?&].*)?$/,(()=>`app.html${n}`));else{const n=e.appLink.includes("?")?"&":"?";e.appLink+=`${n}${a}=${t}`}}function getParamActive(){const e=new URL(location.href).searchParams,t=e.get("sub"),a=e.get("depart");return{sub:t?parseInt(t,10):null,depart:a?parseInt(a,10):null}}function applyTimeOverride(e){var t={text:e.text,webLink:e.webLink,appLink:e.appLink};if(!Array.isArray(e.timeCheck))return t;if(0===e.timeCheck.length)return t;for(var a=e.timeCheck.slice().sort((function(e,t){return new Date(e.start)-new Date(t.start)})),n=new Date,i=0;i<a.length;i++){var o,s=a[i],l=new Date(s.start);if(void 0===s.end)if(i<a.length-1){var r=new Date(a[i+1].start);o=new Date(r.getTime())}else o=new Date(864e13);else o=new Date(s.end);n>=l&&n<=o&&(void 0!==s.text&&(t.text=s.text),void 0!==s.webLink&&(t.webLink=s.webLink),void 0!==s.mobileLink&&(t.mobileLink=s.mobileLink),void 0!==s.appLink&&(t.appLink=s.appLink))}return t}function overrideAllTimeInData(e){e.sub.forEach((function(t,a){var n=applyTimeOverride(t);e.sub[a].text=n.text,e.sub[a].webLink=n.webLink,e.sub[a].mobileLink=n.mobileLink,e.sub[a].appLink=n.appLink})),e.depart.forEach((function(t,a){var n=applyTimeOverride(t);e.depart[a].text=n.text,e.depart[a].webLink=n.webLink,e.depart[a].mobileLink=n.mobileLink,e.depart[a].appLink=n.appLink}))}function addFilter(){document.body.insertAdjacentHTML("beforeend",'\n    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n      <filter id="lensFilter" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox">\n        <feComponentTransfer in="SourceAlpha" result="alpha">\n          <feFuncA type="identity" />\n        </feComponentTransfer>\n\n        <feGaussianBlur in="alpha" stdDeviation="50" result="blur" />\n\n        <feDisplacementMap in="SourceGraphic" in2="blur" scale="50" xChannelSelector="A" yChannelSelector="A" />\n      </filter>\n    </svg>\n  ')}function addPaddingForButton(){var e=$("#spNavRightUl"),t=$(".sp-nav-right__mobile__click");if(t.length&&t.is(":visible")){var a=t.outerWidth(!0);e.css("padding-right",a+"px")}}function isRightNavPinned(){var e=document.getElementById("spRightNav");return!!e&&(!!$(e).parents(".navRightBar").hasClass("add--fixed")||e.getBoundingClientRect().top<=1)}function isDesktop(){return $(document).width()>$screenChangeWt}function getRightNavContentWidth(){var e=0;return document.querySelectorAll("#spNavRightUl .sp-nav_right").forEach((function(t){var a=t.getBoundingClientRect();e+=a.width})),e}function updateHamburgerVisibility(){var e=$("#clickMenu"),t=$("#spNavRightUl");if(t.length&&e.length){if(isDesktop())return e.hide(),void t.css("padding-right","");var a=t[0].getBoundingClientRect().width,n=getRightNavContentWidth()>a;if(void 0===burgerMode||"fixed-only"!==burgerMode||isRightNavPinned()||(n=!1),e.toggle(n),"function"==typeof addPaddingForButton)addPaddingForButton();else{var i=(n?e.outerWidth(!0):0)+"px";t.css("padding-right",i)}}}$((function(){let e;if(e="undefined"!=typeof dataCheckElevator?dataCheckElevator.onlineElevatorUrl.split("index.html")[0]:"","undefined"!=typeof dataMainElevator)t(dataMainElevator);else{const a=(new Date).getTime();fetch(e+"data-main-elevator.json?"+a).then((e=>{if(!e.ok)throw new Error("fetch時http錯誤："+e.status);return e.json()})).then((e=>t(e))).catch((e=>{throw new Error("本機端fetch失敗："+e)}))}if(!leftNav&&!rightNav)return!1;function t(t){overrideAllTimeInData(t),addFilter(),$("body").append('<div class="elevatorHome js--main--dialog" id="elevatorHome_2"></div>'),$("body").addClass("safe-area-padding-bottom"),$("head").append('<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">'),$(document).on("click","#clickMenu",(function(){var e=$(this),t=e.parent(),a=t.hasClass("click--active"),n=$(".sp-nav-right__mobile__click"),o=$("body");(isDesktop()||"fixed-only"!==burgerMode||isRightNavPinned())&&(a?i(e,n,t,o):function(e,t,a,n){var i=a.parents(".navRightBar"),o=isRightNavPinned();if(t.addClass("btn--active"),a.addClass("click--active close"),e.addClass("close"),isDesktop())return i.addClass("add--fixed"),n.css("padding-top",""),void $("#spRightNav").removeClass("menu-follow-open");"follow"!==burgerMode||o?(n.css("padding-top","39px"),i.addClass("add--fixed")):($("#spRightNav").addClass("menu-follow-open"),n.css("padding-top",""))}(e,n,t,o))})),function(t){const a=t,n=e;let i;i=void 0===a.bottom[1].webLink?a.main.webLink:a.bottom[1].webLink,$("body").append('<div class="footer__box" id="footerBox"></div>');var o="";o+='<div class="footer__box">',o+='<ul class="footer__ul">',o+='<li class="footer__list js-ElevatorBtn-m" data-dialog="elevatorHome_2">',o+='<img src="'+n+'icon-1.png" alt="">',o+="<p>"+a.bottom[0].text+"</p>",o+="</li>",o+='<li class="footer__list icon__main">',o+='<a href="'+i+'">',o+='<img src="'+n+'icon-2.png" alt="">',o+="<p>"+a.bottom[1].text+"</p>",o+="</a></li>",o+=' <li class="footer__list js-ElevatorBtn-m" data-dialog="elevatorHome">',o+='<img src="'+n+'icon-3.png" alt="">',o+="<p>"+a.bottom[2].text+"</p>",o+="</li>",o+="</ul></div>",$("#footerBox").html(o)}(t),function(e){const t=e;t.sub.forEach((function(e,t){addArrayParamToLink(e,t,"sub")})),t.depart.forEach((function(e,t){addArrayParamToLink(e,t,"depart")}))}(t),function(e){if(!leftNav)return!1;const t=e,a=getParamActive();function n(e=!1){var n="";n+='<nav id="spFixedNav" class="sp-fixed__nav">',n+='<ul class="sp-nav_ul js-nav_ul sp-nav_ul-1">',t.sub.forEach((function(i,o){const s=t.sub[o].mobileLink?t.sub[o].mobileLink:t.sub[o].webLink,l=e?t.sub[o].appLink:s,r=o===a.sub?" active":"";n+='<li class="sp-nav__'+o+` js-sp__nav__all sp-nav_g1${r}"><a href="`+l+'" title="'+t.sub[o].text+'" target="'+(t.sub[o].target?"_blank":"")+'">'+t.sub[o].text+"</a></li>"})),n+="</ul>",n+="</nav>";const i=document.getElementById("elevatorHome");elevatorHomeAddWhere(n,i)}function i(e=!1){var n="";n+='<nav id="spFixedNav" class="sp-fixed__nav">',n+='<ul class="sp-nav_ul js-nav_ul sp-nav_ul-1">',t.depart.forEach((function(i,o){const s=t.depart[o].mobileLink?t.depart[o].mobileLink:t.depart[o].webLink,l=e?t.depart[o].appLink:s,r=o===a.depart?" active":"";n+='<li class="sp-nav__'+o+" js-sp__nav__all sp-nav_g1"+r+'"><a href="'+l+'" title="'+t.depart[o].text+'" target="'+(t.depart[o].target?"_blank":"")+'"'+` class="${r}">`+t.depart[o].text+"</a></li>"})),n+="</ul>",n+="</nav>";const i=document.getElementById("elevatorHome_2");elevatorHomeAddWhere(n,i)}function o(){if(isApp()){const e=!0;n(e),i(e)}else s(),$(window).on("resize",s)}function s(){var e;$(document).width()>$screenChangeWt?(function(){t.depart.length%2!=0&&console.error("左電梯分館資料必須為偶數筆！");var e="";e+='<nav id="spFixedNav" class="sp-fixed__nav">',e+='<ul class="sp-nav_ul js-nav_ul">',e+='<li class="sp-nav__home"><a href="'+t.main.webLink+'" title="回主會場" target="'+(t.main.blank?"_blank":"")+'">回主會場</a></li>',t.sub.forEach((function(n,i){const o=i===a.sub?"active":"";e+='<li class="sp-nav__'+i+' js-sp__nav__all sp-nav_g1"><a href="'+t.sub[i].webLink+'" title="'+t.sub[i].text+'"  target="'+(t.sub[i].target?"_blank":"")+'"'+` class="${o}">`+t.sub[i].text+"</a></li>"})),e+='<li class="sp-nav__home_2"><a href="">精選品類</a></li>';for(var n=0;n<t.depart.length;n+=2){const s=n===a.depart?" active":"",l=n+1===a.depart?" active":"";var i=t.depart[n],o=t.depart[n+1];e+='<li class="sp-nav__'+n+' js-sp__nav__all sp-nav_g2">',e+='<a href="'+i.webLink+'" target="'+(i.target?"_blank":"")+'"'+`class="nav_bg2${s}">`+i.text+"</a>",e+='<a href="'+o.webLink+'" target="'+(o.target?"_blank":"")+'"'+`class="nav_bg2${l}">`+o.text+"</a>",e+="</li>"}e+='<li class="sp-nav__bottom"></li>',e+="</ul>",e+="</nav>";const s=document.getElementById("elevatorHome");elevatorHomeAddWhere(e,s)}(),(e=$(document)).on("scroll",(function(){var t=$("#spFixedNav");function a(){e.scrollTop()>=300&&t.css({"pointer-events":""})}$(document).width()>$screenChangeWt&&a()}))):(n(),i())}o();var l=!0;$(window).resize((function(){var e=$(document).width();e>$screenChangeWt&&l?(o(),$("#elevatorHome").css("display","block"),$("#elevatorHome_2").css("display","none"),l=!1):e<=$screenChangeWt&&($("#elevatorHome").css("display","none"),l=!0)}))}(t),function(){if(!rightNav)return!1;var e;void 0!==rightStyle?["fade-in","left-in","up-in"].forEach((function(t){rightStyle===t&&(e=t)})):e=null;var t=Array.apply(null,document.querySelectorAll("[data-title]")),a="",n=[],i=$("#navRightBar");a+='<nav id="spRightNav" class="sp-right__nav">',a+='<ul class="sp-nav-right_ul" id="spNavRightUl">',a+='<li class="sp-bav_top_img"></li>',t.forEach((function(e){var t=e.getAttribute("data-title"),i=-1==t.indexOf("stop");t&&i?(a+=' <li class="sp-nav_right"><a href="#'+t+'">'+t+"</a></li>",n.push(t)):i||(a+=' <li class="sp-nav_right" style="width: 0; min-width: 0;"></li>',n.push(t))})),a+='<li class="sp-nav-right__top" id="navTop"><a href="" title="TOP">TOP</a></li>',a+='<li class="sp-nav-right__mobile__click" id="clickMenu"></li>',a+="</ul>",a+="</nav>";var o=$("#navRightBar"),s=$("body");o?o.append(a):s.append(a);var l=document.getElementById("spRightNav");if(e){l.classList.add(e),document.addEventListener("scroll",(function(){window.pageYOffset>=300?l.classList.add("active"):l.classList.remove("active")}));var r=document.getElementById("spRightNav"),d=r.clientHeight,c=detectElementTop(r),v=window.innerHeight,p=c+d-v;if(window.innerWidth>=960&&p>0){var u=p/document.body.clientHeight;document.addEventListener("scroll",(function(){window.scrollY>v+d/2?r.style.transform="translateY("+window.scrollY*u*-1+"px)":r.style=""}))}}0==n.filter((function(e){return e&&e.trim()})).length&&(document.getElementById("navRightBar").style.display="none");updateHamburgerVisibility(),window.addEventListener("resize",updateHamburgerVisibility),window.addEventListener("orientationchange",updateHamburgerVisibility),window.addEventListener("scroll",updateHamburgerVisibility);var f=i.find("#navTop");f.on("click",(function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},300)}))}(),function(){$(".js-sp__nav__all > a").click((function(){$(".js-sp__nav__all a").removeClass("active"),$(this).addClass("active")}));var e=$(document).width();if($(".active").length)var t=$(".active").offset().left-e/2;$(".js-nav_ul").stop().animate({scrollLeft:t})}(),function(){$.debounce=function(e,t,a){var n;return function(){var i=this,o=arguments;later=function(){n=null,a||e.apply(i,o)};var s=a&&!n;clearTimeout(n),n=setTimeout(later,t),s&&e.apply(i,o)}},$.throttle=function(e,t){var a,n,i,o,s,l,r=$.debounce((function(){s=o=!1}),t);return function(){a=this,n=arguments;return i||(i=setTimeout((function(){i=null,s&&e.apply(a,n),r()}),t)),o?s=!0:l=e.apply(a,n),r(),o=!0,l}};var e=$.throttle((function(e){!function(e){if(!rightNav)return!1;var t=Array.apply(null,document.querySelectorAll("[data-title]")),a=[],n=Array.apply(null,document.querySelectorAll("#spNavRightUl a")),i=document.documentElement.scrollTop||document.body.scrollTop,o=document.querySelector(".sp-right__nav").offsetHeight+2||41,s=(e=$(document).width(),0);if(t.forEach((function(e){var t=e.getAttribute("data-title"),n=-1==t.indexOf("stop");t&&n&&a.push(e)})),a.forEach((function(t,a){(e>$screenChangeWt&&i-t.offsetTop>=0||e<=$screenChangeWt&&i-t.offsetTop+o>=0)&&(s=a)})),-1!==s){n.forEach((function(e){e.classList.remove("active")})),n[s].classList.add("active");var l=$("#spRightNav li").width()||90;if($(".active").length){var r=l*s-e/3;$("#spNavRightUl").stop().animate({scrollLeft:r})}}}($(document).width())}),200);window.addEventListener("scroll",e),$(document).on("click","#spNavRightUl .sp-nav_right a",(function(e){var t=$(this).parent().siblings("#clickMenu"),a=t.parent();a.hasClass("click--active"),i(t,$(".sp-nav-right__mobile__click"),a,$("body"));var n=$(document).width(),o=$(this).attr("href").substr(1),s=$('[data-title="'+o+'"]').offset().top+10;return n>$screenChangeWt?$("html, body").animate({scrollTop:s}):$("html, body").animate({scrollTop:s-$("#spRightNav").height()}),!1}))}(),addPaddingForButton(),$(document).on("click",".js-ElevatorBtn-m",a),$(document).on("click","#overlay-mask",n)}function a(e){e.preventDefault();var t=$("body"),a=$(this).attr("data-dialog"),n=$(".js--main--dialog"),i=$(".js-ElevatorBtn-m");function o(e,t,a,n){$(".sp__visual").css("z-index",e),$("html, body").css({"overflow-y":n,top:a,right:a,left:a,bottom:a,position:t})}$(this).hasClass("footer__fixed-active")?(t.removeClass("locked"),$(".overlay-mask").remove(),n.fadeOut(200).removeClass("overlay-open"),o("","","",""),i.removeClass("footer__fixed-active")):(t.removeClass("locked"),$(".overlay-mask").remove(),n.fadeOut(200).removeClass("overlay-open"),o("","","",""),t.addClass("locked"),i.removeClass("footer__fixed-active"),t.prepend('<div id="overlay-mask" class="overlay-mask"></div>'),n.each((function(){a==$(this).attr("id")&&$(this).fadeIn(200).addClass("overlay-open")})),$(this).toggleClass("footer__fixed-active"))}function n(e){e.preventDefault();var t=$(this),a=$("body"),n=$(".js--main--dialog"),i=$(".js-ElevatorBtn-m");t.remove(),n.fadeOut(200).removeClass("overlay-open"),$(".sp__visual").css("z-index",""),$("html, body").css({"overflow-y":"",top:"",right:"",left:"",bottom:"",position:""}),i.removeClass("footer__fixed-active"),a.removeClass("locked")}function i(e,t,a,n){n.css("padding-top",""),t.removeClass("btn--active"),a.removeClass("click--active"),e.removeClass("close"),a.parents(".navRightBar").removeClass("add--fixed"),$("#spRightNav").removeClass("menu-follow-open")}location.href.split("linkName")[1]}));